files:
  - path: Users/*/Desktop/*.exe
    tool:
      cmd: "echo 'Test file: $FILE'; echo 'Test STDERR' >&2; ls -l '$OUTDIR/$MFT'"
      requires:
        - C:\$MFT
  - $MFT
  - path: C:\Users\*\Desktop
    tools:
      - "echo 'Test dir: $FILE'"
      - cmd: tree -a $FILE
        output: $OUTDIR/out/tree1.txt
      - name: test_enabled_yes
      - name: test_enabled_no
      - name: test_disabled_yes
      - name: test_disabled_no
      - name: rm
        extra:
          path: $OUTDIR/out/vars.txt
        run_once: yes
      - cmd: "echo 'Test vars - FILE: $FILE - OUTDIR: $OUTDIR - PARENT: $PARENT - DATE: $DATE - TIME: $TIME'"
        output:
          path: $OUTDIR/out/vars.txt
          append: yes
  - path: Users/*/Documents
    tools:
      - "echo 'Test dir: $FILE'"
      - cmd: tree -a $FILE
        output: $OUTDIR/out/tree2.txt
      - cmd: tree -a $FILE
        output:
          path: $OUTDIR/out/tree2.txt
          append: yes
      - cmd: echo 'STDOUT - $FILE'; echo 'STDERR - $FILE' >&2
        output:
          path: $OUTDIR/out/stdout.txt
          append: yes
      - cmd: echo 'STDOUT - $FILE'; echo 'STDERR - $FILE' >&2
        output:
          path: $OUTDIR/out/stderr.txt
          append: yes
          stderr: yes
      - name: can_fail
      - name: can_fail
        allow_fail: yes
      - name: cannot_fail
        allow_fail: yes
      - cmd: echo 'Can fail - FILES - $FILE' >&2; exit 42
        allow_fail: yes
      # - name: can_fail
      #   allow_fail: no
      # - name: cannot_fail
      # - name: cannot_fail
      #   allow_fail: no
      # - cmd: echo 'Can NOT fail - FILES - $FILE' >&2; exit 42
      #   allow_fail: no
